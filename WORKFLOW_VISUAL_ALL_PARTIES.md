# Visual Workflow - All Injury Parties

## Complete FNOL Workflow with Features

```
?????????????????????????????????????????????????????????????????????????
?                    FIRST NOTICE OF LOSS (FNOL) - 5 STEPS              ?
?????????????????????????????????????????????????????????????????????????

Step 1: Loss Details
?? Date/Time of Loss
?? Location
?? Witnesses
?? Authorities Notified

        ?

Step 2: Policy & Insured
?? Policy Search/Verify
?? Vehicle Selection
?? Insured Party Details

        ?

Step 3: Driver & Injury + Passengers
??????????????????????????????????????????????????????????
?
?  ?? DRIVER SECTION ?????????????????????????????????????
?  ?                                                      ?
?  ?  Driver Type Selection                              ?
?  ?  ?                                                   ?
?  ?  Driver Details (if unlisted)                       ?
?  ?  ?                                                   ?
?  ?  Injured? Yes/No                                    ?
?  ?  ?? YES                                             ?
?  ?  ?  ?? Injury Details                              ?
?  ?  ?  ?? Attorney Details                            ?
?  ?  ?  ?? [?? Save Driver & Create Feature]           ?
?  ?  ?     ?? Feature Modal Opens                      ?
?  ?  ?        ?? Coverage Selection                    ?
?  ?  ?        ?? Expense Reserve                       ?
?  ?  ?        ?? Indemnity Reserve                     ?
?  ?  ?        ?? Adjuster Assignment                   ?
?  ?  ?        ?? [? Create Feature]                    ?
?  ?  ?           ?? Feature 01 Added to Grid           ?
?  ?  ?
?  ?  ?? NO ? [?? Save Driver] (No feature)             ?
?  ?                                                     ?
?  ?  Feature Grid (if features created):               ?
?  ?  ???????????????????????????????????????????????  ?
?  ?  ? Feature ? Coverage ? Reserves ? Adjuster    ?  ?
?  ?  ? 01      ? BI/300   ? $5K/$25K ? Raj         ?  ?
?  ?  ???????????????????????????????????????????????  ?
?  ?                                                     ?
?  ???????????????????????????????????????????????????????
?
?  ?? PASSENGERS SECTION ?????????????????????????????????
?  ?                                                      ?
?  ?  [+ Add Passenger]                                  ?
?  ?                                                      ?
?  ?  When User Clicks:                                  ?
?  ?  PassengerModal Opens                               ?
?  ?  ?                                                   ?
?  ?  Passenger Name *                                   ?
?  ?  ?                                                   ?
?  ?  Injured? Yes/No *                                  ?
?  ?  ?? YES                                             ?
?  ?  ?  ?? Injury Details *                            ?
?  ?  ?  ?? Attorney Details (if yes)                   ?
?  ?  ?     ?? [?? Save & Create Feature]               ?
?  ?  ?        ?? Feature Modal Opens                   ?
?  ?  ?           ?? Coverage Selection                 ?
?  ?  ?           ?? Expense Reserve                    ?
?  ?  ?           ?? Indemnity Reserve                  ?
?  ?  ?           ?? Adjuster Assignment                ?
?  ?  ?           ?? [? Create Feature]                 ?
?  ?  ?              ?? Feature 02 Added to Grid        ?
?  ?  ?
?  ?  ?? NO ? [?? Save Passenger] (No feature)          ?
?  ?                                                     ?
?  ?  Passenger List:                                    ?
?  ?  ????????????????????????????????????????????????  ?
?  ?  ? Name    ? Injured ? Attorney ? Actions     ?  ?
?  ?  ? John    ? Yes ?   ? Yes ?    ? ???          ?  ?
?  ?  ? Jane    ? No      ? No       ? ???          ?  ?
?  ?  ????????????????????????????????????????????????  ?
?  ?                                                     ?
?  ?  Feature Grid (Passenger Features):                 ?
?  ?  ???????????????????????????????????????????????  ?
?  ?  ? Feature ? Coverage ? Claimant ? Adjuster ?  ?
?  ?  ? 02      ? PD/50K   ? John     ? Edwin   ?  ?
?  ?  ? 03      ? APIP/150K? Jane*    ? Constantine?  ?
?  ?  ???????????????????????????????????????????????  ?
?  ?  *Feature created during passenger add             ?
?  ?                                                     ?
?  ???????????????????????????????????????????????????????
?
??????????????????????????????????????????????????????????

        ?

Step 4: Third Parties
??????????????????????????????????????????????????????????
?
?  ?? THIRD PARTY SECTION ????????????????????????????????
?  ?                                                      ?
?  ?  [+ Add Third Party]                                ?
?  ?                                                      ?
?  ?  When User Clicks:                                  ?
?  ?  ThirdPartyModal Opens                              ?
?  ?  ?                                                   ?
?  ?  Party Type Selection *                             ?
?  ?  ?? Vehicle                                         ?
?  ?  ?? Pedestrian                                      ?
?  ?  ?? Bicyclist                    ? NEW              ?
?  ?  ?? Property                                        ?
?  ?  ?? Other                                           ?
?  ?  ?                                                   ?
?  ?  Party Name *                                       ?
?  ?  ?                                                   ?
?  ?  [If Vehicle: VIN, Year, Make, Model, Driver]       ?
?  ?  ?                                                   ?
?  ?  Injured? Yes/No *                                  ?
?  ?  ?? YES                                             ?
?  ?  ?  ?? Injury Details *                            ?
?  ?  ?  ?? Attorney Details (if yes) *                 ?
?  ?  ?  ?? [?? Save & Create Feature]                  ?
?  ?  ?     ?? Feature Modal Opens                      ?
?  ?  ?        ?? Coverage Selection                    ?
?  ?  ?        ?? Expense Reserve                       ?
?  ?  ?        ?? Indemnity Reserve                     ?
?  ?  ?        ?? Adjuster Assignment                   ?
?  ?  ?        ?? [? Create Feature]                    ?
?  ?  ?           ?? Feature 04, 05, etc. Added         ?
?  ?  ?
?  ?  ?? NO ? [?? Save Third Party] (No feature)        ?
?  ?                                                     ?
?  ?  Third Party List:                                  ?
?  ?  ??????????????????????????????????????????????    ?
?  ?  ? Name    ? Type      ? Injured ? Actions  ?    ?
?  ?  ? ABC Ins ? Vehicle   ? No      ? ???       ?    ?
?  ?  ? Tom W.  ? Bicyclist ? Yes ?   ? ???       ?    ?
?  ?  ? Maria   ? Pedestrian? Yes ?   ? ???       ?    ?
?  ?  ??????????????????????????????????????????????    ?
?  ?                                                     ?
?  ?  Feature Grid (Third Party Features):              ?
?  ?  ????????????????????????????????????????????????  ?
?  ?  ? Feature ? Coverage ? Claimant ? Reserves ?  ?
?  ?  ? 04      ? UM/25K   ? Tom W.   ? $8K/$40K ?  ?
?  ?  ? 05      ? BI/100K  ? Maria    ? $10K/$50K?  ?
?  ?  ????????????????????????????????????????????????  ?
?  ?                                                     ?
?  ???????????????????????????????????????????????????????
?
??????????????????????????????????????????????????????????

        ?

Step 5: Review & Save
?? Review All Data
?? All Collected Sub-Claims:
?  ?? Driver Feature: 01 (BI/300)
?  ?? Passenger Features: 02 (PD/50K), 03 (APIP/150K)
?  ?? Third Party Features: 04 (UM/25K), 05 (BI/100K)
?? [?? Submit Claim]
   ?? All sub-claims saved with claim
```

---

## Data Model Relationships

```
CLAIM
?? Driver
?  ?? Name: "Insured"
?  ?? Injury: InjuryInfo (if injured)
?  ?? Attorney: AttorneyInfo (if attorney)
?  ?? Features: SubClaim (ClaimType="Driver")
?     ?? SubClaim 01 [Driver Feature]
?     ?? ...
?
?? Passengers: List<InsuredPassenger>
?  ?? Passenger 1 (John Smith)
?  ?  ?? Name: "John Smith"
?  ?  ?? WasInjured: true
?  ?  ?? Injury: InjuryInfo
?  ?  ?? Attorney: AttorneyInfo
?  ?  ?? Associated Features (queried by Name + ClaimType="Passenger")
?  ?     ?? SubClaim 02 [Passenger 1 Feature]
?  ?     ?? ...
?  ?
?  ?? Passenger 2 (Jane Doe)
?     ?? Name: "Jane Doe"
?     ?? WasInjured: false
?     ?? No Features
?
?? ThirdParties: List<ThirdParty>
?  ?? Third Party 1 (Tom W. - Bicyclist)
?  ?  ?? Name: "Tom W."
?  ?  ?? Type: "Bicyclist"
?  ?  ?? WasInjured: true
?  ?  ?? Injury: InjuryInfo
?  ?  ?? Attorney: AttorneyInfo
?  ?  ?? Associated Features (queried by Name + ClaimType="ThirdParty")
?  ?     ?? SubClaim 04 [Third Party 1 Feature]
?  ?     ?? ...
?  ?
?  ?? Third Party 2 (Maria - Pedestrian)
?     ?? Name: "Maria"
?     ?? Type: "Pedestrian"
?     ?? WasInjured: true
?     ?? Injury: InjuryInfo
?     ?? Associated Features
?        ?? SubClaim 05 [Third Party 2 Feature]
?        ?? ...
?
?? SubClaims: List<SubClaim>
   ?? SubClaim 01 (ClaimType="Driver")
   ?  ?? FeatureNumber: "01"
   ?  ?? ClaimantName: "Insured"
   ?  ?? Coverage: "BI"
   ?  ?? ExpenseReserve: 5000
   ?  ?? IndemnityReserve: 25000
   ?  ?? AssignedAdjuster: "Raj"
   ?
   ?? SubClaim 02 (ClaimType="Passenger")
   ?  ?? FeatureNumber: "02"
   ?  ?? ClaimantName: "John Smith"
   ?  ?? Coverage: "PD"
   ?  ?? ExpenseReserve: 10000
   ?  ?? IndemnityReserve: 50000
   ?  ?? AssignedAdjuster: "Edwin"
   ?
   ?? SubClaim 03 (ClaimType="Passenger")
   ?  ?? FeatureNumber: "03"
   ?  ?? ClaimantName: "Jane Doe"
   ?  ?? Coverage: "APIP"
   ?  ?? ExpenseReserve: 5000
   ?  ?? IndemnityReserve: 150000
   ?  ?? AssignedAdjuster: "Constantine"
   ?
   ?? SubClaim 04 (ClaimType="ThirdParty")
   ?  ?? FeatureNumber: "04"
   ?  ?? ClaimantName: "Tom W."
   ?  ?? Coverage: "UM"
   ?  ?? ExpenseReserve: 8000
   ?  ?? IndemnityReserve: 40000
   ?  ?? AssignedAdjuster: "Raj"
   ?
   ?? SubClaim 05 (ClaimType="ThirdParty")
      ?? FeatureNumber: "05"
      ?? ClaimantName: "Maria"
      ?? Coverage: "BI"
      ?? ExpenseReserve: 10000
      ?? IndemnityReserve: 50000
      ?? AssignedAdjuster: "Edwin"
```

---

## Feature Creation Entry Points

### Driver Features (Step 3)
- Entry Point: Driver Injury + Attorney Section
- Trigger: User clicks "?? Save Driver & Create Feature"
- Modal: SubClaimModal with ClaimantName="Insured"
- Storage: DriverSubClaims list
- Filter: ClaimType="Driver"

### Passenger Features (Step 3)
- Entry Point: PassengerModal after injury captured
- Trigger: User clicks "?? Save & Create Feature" (if injured)
- Modal: SubClaimModal with ClaimantName="{PassengerName}"
- Storage: DriverSubClaims list (same list as driver)
- Filter: ClaimType="Passenger"

### Third Party Features (Step 4)
- Entry Point: ThirdPartyModal after injury captured
- Trigger: User clicks "?? Save & Create Feature" (if injured)
- Modal: SubClaimModal with ClaimantName="{ThirdPartyName}"
- Storage: ThirdPartySubClaims list
- Filter: ClaimType="ThirdParty"

---

## Data Collection Timeline

```
Step 1: Loss Details
        ? (GoToStep2)
        Collect: ClaimLossDetails

Step 2: Policy & Insured
        ? (GoToStep3)
        Collect: PolicyInfo, InsuredParty, InsuredVehicle

Step 3: Driver & Injury
        ? (GoToStep4)
        Collect: Driver, DriverInjury, DriverAttorney, Passengers
        Collect: Driver SubClaims only
                 (ClaimType="Driver")

Step 4: Third Parties
        ? (GoToStep5)
        Collect: ThirdParties
        Collect: Passenger SubClaims from Step 3
                 (ClaimType="Passenger")
        Collect: Third Party SubClaims
                 (ClaimType="ThirdParty")

Step 5: Review & Save
        ? (SubmitClaim)
        Submit: Complete Claim object with:
                - All parties (Driver, Passengers, ThirdParties)
                - All SubClaims (Driver + Passenger + ThirdParty)
```

---

## Summary

? **Driver Workflow**: Complete with feature creation
? **Passenger Workflow**: NEW - Complete with feature creation
? **Third Party Workflow**: NEW - Complete with feature creation
? **Feature Management**: Edit/Delete with auto-renumbering
? **Data Integration**: All sub-claims collected at proper steps
? **Atomic Saves**: All data saved together in final submission

**Status**: ?? **Production Ready**

