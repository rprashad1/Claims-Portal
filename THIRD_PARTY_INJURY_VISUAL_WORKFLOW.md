# Third Party Injury Feature - Visual Workflow

## Complete Step 4 Flow with New Injury Workflow

```
????????????????????????????????????????????????????????????????????????????????
?                      STEP 4: THIRD PARTIES                                   ?
????????????????????????????????????????????????????????????????????????????????

???????????????????????????????????????????????????????????????????????????????
? THIRD PARTY VEHICLES & PARTIES                    [+ Add Third Party]        ?
???????????????????????????????????????????????????????????????????????????????
?  Name      ? Type       ? Injured ? Attorney ? Actions                      ?
?  Tom W.    ? Bicyclist  ? Yes ?   ? Yes ?    ? [??]                         ?
?  Maria     ? Pedestrian ? Yes ?   ? No       ? [??]                         ?
?  ABC Ins   ? Vehicle    ? No      ? No       ? [??]                         ?
???????????????????????????????????????????????????????????????????????????????

CLICK "[+ Add Third Party]" ? ThirdPartyModal Opens


????????????????????????????????????????????????????????????????????????????????
?                        ADD THIRD PARTY MODAL                                 ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 1: SELECT PARTY TYPE                                                 ?
?  ?????????????????????????????                                             ?
?  ? Third Party Vehicle                                                     ?
?  ? Pedestrian                  ? NEW INJURY WORKFLOW                       ?
?  ? Bicyclist                   ? NEW INJURY WORKFLOW                       ?
?  ? Property                                                                ?
?  ? Other                       ? NEW INJURY WORKFLOW                       ?
?                                                                              ?
?  [Pedestrian selected]                                                     ?
?                                                                              ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 2: ENTER PARTY NAME                                                  ?
?  ??????????????????????????                                                ?
?  Name: [Maria Garcia_________________]                                      ?
?                                                                              ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 3: INJURY STATUS                                                     ?
?  ??????????????????????                                                    ?
?  Was this party injured? *                                                 ?
?  ? Yes    ? No                                                             ?
?           ? [Yes selected]                                                 ?
?                                                                              ?
?  ?????????????????????????????????????????????????????????????????????  ?
?  ? ? A feature/sub-claim will be created for this injury after you save. ?  ?
?  ?????????????????????????????????????????????????????????????????????  ?
?                                                                              ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 4: INJURY DETAILS (NEW)                                              ?
?  ????????????????????????????                                              ?
?  ???????????????????????????????????????????????????????????????????????  ?
?  ? INJURY DETAILS                                                      ?  ?
?  ???????????????????????????????????????????????????????????????????????  ?
?  ?                                                                     ?  ?
?  ?  Nature of Injury * ????????????????????????                       ?  ?
?  ?                     ? ? Select Injury Type ?                       ?  ?
?  ?                     ????????????????????????                       ?  ?
?  ?                     ? Whiplash             ?  ? From Lookup        ?  ?
?  ?                     ? Fracture             ?     Service           ?  ?
?  ?                     ? Concussion           ?                       ?  ?
?  ?                     ? Lacerations          ?                       ?  ?
?  ?                     ? Burns                ?                       ?  ?
?  ?                     ????????????????????????                       ?  ?
?  ?                     [Fracture selected]                            ?  ?
?  ?                                                                     ?  ?
?  ?  Date of First Medical Treatment * [12/19/2024]                   ?  ?
?  ?                                   ?                                 ?  ?
?  ?                                   Auto-defaults to today           ?  ?
?  ?                                                                     ?  ?
?  ?  Injury Description *                                             ?  ?
?  ?  ??????????????????????????????????????????????                   ?  ?
?  ?  ? Describe the injury in detail...           ?                   ?  ?
?  ?  ? [Left leg fracture with severe pain]       ?                   ?  ?
?  ?  ? [Multiple contusions]                      ?                   ?  ?
?  ?  ? [Unable to walk without assistance]        ?                   ?  ?
?  ?  ??????????????????????????????????????????????                   ?  ?
?  ?                                                                     ?  ?
?  ?  ? Fatality          ? Taken to Hospital                          ?  ?
?  ?                        [Checked]                                   ?  ?
?  ?                        ?                                            ?  ?
?  ?  Hospital Name [County Medical Center]                            ?  ?
?  ?  Hospital Address [123 Health St, Medical City, ST 12345]         ?  ?
?  ?                                                                     ?  ?
?  ???????????????????????????????????????????????????????????????????????  ?
?                                                                              ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 5: ATTORNEY REPRESENTATION (Optional)                                ?
?  ???????????????????????????????????????????                               ?
?  Is this party represented by an attorney? *                               ?
?  ? Yes    ? No                                                             ?
?           ? [No selected]                                                  ?
?           (No attorney fields shown)                                       ?
?                                                                              ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  [Cancel]  [Save & Create Feature] ? Button changes based on injury       ?
?                                                                              ?
???????????????????????????????????????????????????????????????????????????????

CLICK "[Save & Create Feature]" ? SubClaimModal Opens AUTOMATICALLY


????????????????????????????????????????????????????????????????????????????????
?              CREATE FEATURE FOR MARIA GARCIA (AUTO-OPENED)                   ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  Coverage Type/Limits *                                                    ?
?  ????????????????????????????                                              ?
?  ? ? Select Coverage        ?                                              ?
?  ????????????????????????????                                              ?
?  ? BI - 100/300             ?                                              ?
?  ? PD - 50,000              ?  ? Selected                                  ?
?  ? PIP - 10,000             ?                                              ?
?  ? APIP - 150,000           ?                                              ?
?  ? UM - 25,000              ?                                              ?
?  ? UIM - 25,000             ?                                              ?
?  ????????????????????????????                                              ?
?                                                                              ?
?  Expense Reserve * [5000___________]                                        ?
?  Indemnity Reserve * [25000__________]                                      ?
?                                                                              ?
?  Assigned Adjuster *                                                       ?
?  ????????????????????????????                                              ?
?  ? ? Select Adjuster        ?                                              ?
?  ????????????????????????????                                              ?
?  ? Raj                      ?                                              ?
?  ? Edwin                    ?  ? Selected                                  ?
?  ? Constantine              ?                                              ?
?  ? Joan                     ?                                              ?
?  ????????????????????????????                                              ?
?                                                                              ?
?  ??????????????????????????????????????????????????                        ?
?  ? Coverage: PD - 50,000                          ?                        ?
?  ? Expense Reserve: $5,000.00                     ?                        ?
?  ? Indemnity Reserve: $25,000.00                  ?                        ?
?  ? Adjuster: Edwin                                ?                        ?
?  ??????????????????????????????????????????????????                        ?
?                                                                              ?
?  [Cancel]  [Create Feature]                                                ?
?                                                                              ?
???????????????????????????????????????????????????????????????????????????????

CLICK "[Create Feature]" ? Feature Saved to Grid


????????????????????????????????????????????????????????????????????????????????
?               THIRD PARTY INJURY FEATURES/SUB-CLAIMS                         ?
??????????????????????????????????????????????????????????????????????????????
?Feature ?  Coverage   ?  Claimant   ? Expense R ? Indemnity R ? Adjuster    ?
??????????????????????????????????????????????????????????????????????????????
?  04    ? PD - 50,000 ? Maria       ? $5,000    ? $25,000     ? Edwin       ?
?        ?             ? (Pedestrian)?           ?             ?             ?
??????????????????????????????????????????????????????????????????????????????
```

---

## Non-Injured Party Workflow

```
????????????????????????????????????????????????????????????????????????????????
?                        ADD THIRD PARTY MODAL                                 ?
????????????????????????????????????????????????????????????????????????????????
?                                                                              ?
?  STEP 1: SELECT PARTY TYPE                                                 ?
?  ??????????????????????????????????                                        ?
?  ? ? Bicyclist                    ?  ? Selected                            ?
?  ??????????????????????????????????                                        ?
?                                                                              ?
?  STEP 2: ENTER NAME                                                        ?
?  Name: [Tom Wilson_________________]                                       ?
?                                                                              ?
?  STEP 3: INJURY STATUS                                                     ?
?  Was this party injured? *                                                 ?
?  ? Yes    ? No                    ? Selected                               ?
?                                                                              ?
?  (No injury form shown)                                                    ?
?                                                                              ?
?  STEP 4: ATTORNEY REPRESENTATION                                           ?
?  Is this party represented by an attorney? *                               ?
?  ? Yes    ? No                    ? Selected                               ?
?                                                                              ?
?  (No attorney form shown)                                                  ?
?                                                                              ?
?  [Cancel]  [Save Third Party] ? Button text changes                        ?
?                                                                              ?
???????????????????????????????????????????????????????????????????????????????

CLICK "[Save Third Party]" ? ThirdPartyModal Closes

NO FEATURE MODAL OPENS (Not injured, no feature needed)

Result:
- Third party added to list
- No feature created
- No feature grid entry
```

---

## Comparison: Before vs After

### BEFORE
```
Pedestrian/Bicyclist/Other Third Parties
         ?
No injury workflow
         ?
No feature creation
         ?
Limited data capture
```

### AFTER ?
```
Pedestrian/Bicyclist/Other Third Parties
         ?
Full injury workflow (Nature, Date, Description)
         ?
Automatic feature creation modal
         ?
Coverage/Reserve/Adjuster assignment
         ?
Feature grid with edit/delete
         ?
Complete data capture
```

---

## Decision Tree

```
                            Third Party Added
                                  ?
                    ????????????????????????????????????????????
                    ?             ?             ?              ?
              Vehicle        Pedestrian    Bicyclist       Property       Other
                ?             ?             ?              ?              ?
           Injured?       Injured?       Injured?        Injured?       Injured?
           /    \          /    \         /    \          /    \         /    \
         Yes   No       Yes   No       Yes   No        Yes   No       Yes   No
         ?     ?         ?     ?        ?    ?         ?     ?         ?     ?
         ?     ?         ?     ?        ?    ?         ?     ?         ?     ?
         ?     ?         ?     ?        ?    ?         ?     ?         ?     ?
        FM  NoFM       FM  NoFM       FM  NoFM       NoFM  NoFM       FM  NoFM
        ?     ?         ?     ?        ?    ?         ?     ?         ?     ?
        ?     ?         ?     ?        ?    ?         ?     ?         ?     ?
       TP+   TP       TP+   TP       TP+  TP        TP    TP        TP+   TP
       F               F              F                           F

Legend:
FM = Feature Modal Opens Automatically
TP = Third Party Added to List
TP+ = Third Party + Feature Added
F = Feature Created (04, 05, etc.)
```

---

## Feature Modal Trigger Logic

```
AddThirdPartyAndCreateFeature(ThirdParty party)
{
    ThirdParties.Add(party);
    
    if (party.WasInjured && party.InjuryInfo != null)
    {
        if (party.Type == "Vehicle" || party.Type == "Property")
        {
            // Vehicle: Feature modal triggers (for driver injury)
            // Property: No feature modal (property damage handled separately)
        }
        else if (party.Type == "Pedestrian" || 
                 party.Type == "Bicyclist" || 
                 party.Type == "Other")
        {
            // NEW: Auto-open feature modal for these types
            SubClaimModal.ShowAsync();
        }
    }
    // If not injured: No feature modal, just add third party
}
```

---

## Data Flow Diagram

```
ThirdPartyModal
?? Party Type Selection
?? Name Entry
?
?? IF Injured:
?  ?? Nature of Injury (NEW)
?  ?  ?? Populated from LookupService
?  ?? Medical Date (NEW)
?  ?  ?? Defaults to DateTime.Now
?  ?? Description (NEW)
?  ?  ?? Multi-line textarea
?  ?? Hospital Info (NEW)
?  ?  ?? Conditional on checkbox
?  ?? Fatality Checkbox
?
?? Attorney Details (Optional)
?
?? Submit Button
   ?
   ?? IF Injured (Pedestrian/Bicyclist/Other):
   ?  ?? Auto-open SubClaimModal
   ?     ?? Coverage Selection
   ?     ?? Expense Reserve
   ?     ?? Indemnity Reserve
   ?     ?? Adjuster Assignment
   ?        ?
   ?        ?? Feature Added to Grid
   ?
   ?? IF Not Injured:
      ?? Third Party Added to List (No Feature)
```

---

## Summary Visual

```
??????????????????????????????????????????????????????????????????????????????
?                      STEP 4: THIRD PARTIES (Updated)                       ?
??????????????????????????????????????????????????????????????????????????????
?                                                                            ?
?  Third Party Types with NEW Injury Workflow:                              ?
?  ????????????????????????????????????????????                             ?
?  ? Pedestrian         - Full injury workflow, feature creation           ?
?  ? Bicyclist          - Full injury workflow, feature creation           ?
?  ? Other              - Full injury workflow, feature creation           ?
?  ? Vehicle Driver     - Full injury workflow, feature creation (existing) ?
?  ? Property           - No injury workflow (damage handled separately)    ?
?                                                                            ?
?  New Injury Fields:                                                       ?
?  ?????????????????                                                        ?
?  ? Nature of Injury        - Dropdown from LookupService                ?
?  ? Medical Treatment Date  - Auto-defaults to today                     ?
?  ? Injury Description      - Multi-line textarea                        ?
?  ? Hospital Information    - Conditional fields                         ?
?  ? Fatality Checkbox       - Optional tracking                          ?
?                                                                            ?
?  Feature Creation:                                                        ?
?  ?????????????????                                                        ?
?  ? Automatic Modal Trigger - Opens after "Save & Create Feature"        ?
?  ? Same UI/UX as Driver    - Consistent workflow                        ?
?  ? Feature Grid Display    - Edit/Delete capabilities                   ?
?  ? Auto-Numbering          - Features numbered sequentially             ?
?                                                                            ?
??????????????????????????????????????????????????????????????????????????????
```

---

**Status**: ? COMPLETE & TESTED
**Build**: ? SUCCESSFUL
**Ready for Production**: ? YES

